<!DOCTYPE html>
<html lang="en">
  <head>
    <title>TinyApp-ShowURL</title>
  </head>
  <body style="margin-left:50px; margin-right:50px;">
    <header align="right">
      <% include ./partials/_header %>
    </header>
    <div style="margin:50px;">
      <h1 style="font-size:36px;">
        ShortURL: <b><%=shortUrl%></b>
      </h1>
      <form action="/urls/<%=shortUrl%>?_method=PUT" method="POST" style="font-size:18px; width:300px;">
        <input name="newURL" type="text" value="<%=url%>">
        <input type="submit" value="Update">
      </form>
      <table style="margin-top:30px;">
        <tr height="50px">
          <td width="200px">Total visits:</td>
          <td width="400px"><%=counter%></td>
          <td width="200px"></td>
        </tr>
        <tr height="50px">
          <td>Total visitors:</td>
          <td><%=visitors%></td>
          <td></td>
        </tr>
        <tr height="50px">
          <td>Trace:</td>
          <td>Timestamp</td>
          <td>Visitor</td>
        </tr>
        <% trace.forEach((visit) => { %>
        <tr>
          <td></td>
          <td><%=visit.timestamp%></td>
          <td><%=visit.visitor%></td>
        </tr>
        <% }); %>
      </table>
    </div>
  </body>
</html>